{% extends 'projects/base.html' %}

{% block title %}Kiad√°s R√∂gz√≠t√©se{% endblock %}

{% block breadcrumbs %}
    <a href="{% url 'project-list' %}">Projektek</a> /
    <a href="{% url 'project-detail' project.id %}">{{ project.name }}</a> /
    <span>Kiad√°s</span>
{% endblock %}

{% block extra_css %}
<style>
    .form-card { background: #fff; padding: 40px; border-radius: 12px; border: 1px solid var(--border); max-width: 600px; margin: 0 auto; box-shadow: 0 4px 15px rgba(0,0,0,0.05); }
    h2 { margin-top: 0; color: var(--primary); border-bottom: 2px solid #f4f6f9; padding-bottom: 15px; margin-bottom: 25px; }

    label { display: block; font-weight: 600; margin-bottom: 8px; color: #555; }
    input, select, textarea { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 6px; font-size: 14px; box-sizing: border-box; margin-bottom: 20px; }
    input:focus, select:focus { border-color: var(--primary); outline: none; }

    .btn-group { display: flex; justify-content: flex-end; gap: 15px; margin-top: 20px; }
</style>
{% endblock %}

{% block content %}
<div class="form-card">
    <h2>üí∏ {% if form.instance.pk %}Kiad√°s Szerkeszt√©se{% else %}√öj Kiad√°s R√∂gz√≠t√©se{% endif %}</h2>

    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}

        <label>Megnevez√©s / Sz√°mlasz√°m</label>
        {{ form.name }}

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <div>
                <label>D√°tum</label>
                {{ form.date }}
            </div>
            <div>
                <label>Kateg√≥ria</label>
                {{ form.category }}
            </div>
        </div>

        <label>Nett√≥ √ñsszeg (Ft)</label>
        {{ form.amount_netto }}

        <label>Sz√°mlak√©p / F√°jl (Opcion√°lis)</label>
        {{ form.invoice_file }}

        <div class="btn-group">
            <a href="{% url 'project-detail' project.id %}" class="btn btn-secondary">M√©gse</a>
            <button type="submit" class="btn btn-danger"><i class="fa-solid fa-floppy-disk"></i> Ment√©s</button>
        </div>
    </form>
</div>
{% endblock %}